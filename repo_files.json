{
  "main.py": {
    "summary": "This Python script initializes an agent with a specific goal to find and change the LLM server port from 8080 to 9090 within a given repository, logs the process, and outputs the number of steps taken to complete the task.",
    "functions": [],
    "classes": [],
    "imports": [
      "AgentState",
      "run_agent",
      "log"
    ]
  },
  "tests.py": {
    "summary": "This Python script tests the `apply_patch` function from the `tools.diff_engine` module to ensure it correctly handles whitespace issues when replacing text within a larger code block, preserving original indentation.",
    "functions": [
      {
        "name": "test_diff_engine",
        "start": 3,
        "end": 23
      }
    ],
    "classes": [],
    "imports": [
      "apply_patch"
    ]
  },
  "readme.md": {
    "summary": "Provides functions  and classes .",
    "functions": [],
    "classes": [],
    "imports": [
      "C"
    ]
  },
  "repo_tree.json": {
    "summary": "This JSON file represents the directory structure and contents of a software project focused on automating tasks related to repositories and development processes.",
    "functions": [],
    "classes": [],
    "imports": []
  },
  "repo_files.json": {
    "summary": "This JSON file describes the structure and contents of a software repository, including Python scripts with functions and classes for various tasks like running tests, applying patches, searching repositories, and building a brain for the repo using an LLM.",
    "functions": [],
    "classes": [],
    "imports": []
  },
  "tools/function_locator.py": {
    "summary": "This Python script defines a function `find_function` that searches for a given function or class name within a repository and returns the file path along with start and end line numbers if found.",
    "functions": [
      {
        "name": "find_function",
        "start": 5,
        "end": 39
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "Path"
    ]
  },
  "tools/fs_tools.py": {
    "summary": "This file provides functions to read from and write to files within a repository, handling errors gracefully and ensuring proper mode operations.",
    "functions": [
      {
        "name": "read_file",
        "start": 5,
        "end": 11
      },
      {
        "name": "write_file",
        "start": 13,
        "end": 41
      }
    ],
    "classes": [],
    "imports": [
      "Path",
      "Dict"
    ]
  },
  "tools/shell_tools.py": {
    "summary": "This file contains a function to run tests for a project using a specified command, defaulting to pytest -q, and logs the results.",
    "functions": [
      {
        "name": "run_tests",
        "start": 6,
        "end": 31
      }
    ],
    "classes": [],
    "imports": [
      "log",
      "subprocess",
      "Dict"
    ]
  },
  "tools/git_tools.py": {
    "summary": "This Python script provides functions for running Git commands, creating branches, and committing changes automatically based on a given goal.",
    "functions": [
      {
        "name": "_run",
        "start": 5,
        "end": 17
      },
      {
        "name": "_current_branch",
        "start": 21,
        "end": 23
      },
      {
        "name": "_slugify",
        "start": 26,
        "end": 30
      },
      {
        "name": "smart_commit_pipeline",
        "start": 33,
        "end": 51
      }
    ],
    "classes": [],
    "imports": [
      "subprocess",
      "re"
    ]
  },
  "tools/diff_engine.py": {
    "summary": "This Python script processes text to find and apply search-and-replace patches while handling whitespace differences gracefully.",
    "functions": [
      {
        "name": "parse_search_replace",
        "start": 3,
        "end": 10
      },
      {
        "name": "_normalize_lines",
        "start": 12,
        "end": 14
      },
      {
        "name": "apply_patch",
        "start": 16,
        "end": 72
      }
    ],
    "classes": [],
    "imports": [
      "re"
    ]
  },
  "tools/build_brain.py": {
    "summary": "This script initializes the repository brain for a project located at \"/home/UserX/Master/Operon/\" using the `build_repo_brain` function and an LLM (likely for language model) through the `call_llm` function.",
    "functions": [],
    "classes": [],
    "imports": [
      "build_repo_brain",
      "call_llm"
    ]
  },
  "tools/repo_search.py": {
    "summary": "This script searches a repository for files containing specific keywords and returns the top 5 most relevant files based on keyword matches.",
    "functions": [
      {
        "name": "search_repo",
        "start": 4,
        "end": 39
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "Path"
    ]
  },
  "tools/repo_brain.py": {
    "summary": "This Python script builds a repository brain by analyzing the structure and content of files within a given repository, extracting information about functions, classes, and imports, and generating summaries using an external language model. It saves this information in JSON files for later use.",
    "functions": [
      {
        "name": "build_tree",
        "start": 12,
        "end": 25
      },
      {
        "name": "extract_python_info",
        "start": 28,
        "end": 34
      },
      {
        "name": "build_repo_brain",
        "start": 36,
        "end": 119
      },
      {
        "name": "extract_python_structure_ast",
        "start": 121,
        "end": 171
      },
      {
        "name": "Visitor.visit_FunctionDef",
        "start": 135,
        "end": 141
      },
      {
        "name": "Visitor.visit_AsyncFunctionDef",
        "start": 143,
        "end": 149
      },
      {
        "name": "Visitor.visit_ClassDef",
        "start": 151,
        "end": 167
      },
      {
        "name": "visit_FunctionDef",
        "start": 135,
        "end": 141
      },
      {
        "name": "visit_AsyncFunctionDef",
        "start": 143,
        "end": 149
      },
      {
        "name": "visit_ClassDef",
        "start": 151,
        "end": 167
      }
    ],
    "classes": [
      {
        "name": "Visitor",
        "start": 133,
        "end": 167
      }
    ],
    "imports": [
      "Path",
      "json",
      "re",
      "ast"
    ]
  },
  "tools/code_slice.py": {
    "summary": "This file defines a function `load_function_slice` that loads and returns the lines of code surrounding a specified function or class within a repository, along with metadata about the location and context of the slice.",
    "functions": [
      {
        "name": "load_function_slice",
        "start": 5,
        "end": 47
      }
    ],
    "classes": [],
    "imports": [
      "Path",
      "find_function"
    ]
  },
  "agent/tool_jail.py": {
    "summary": "This Python script validates JSON input to ensure it contains a valid action and all required fields for that action according to predefined rules.",
    "functions": [
      {
        "name": "validate_action",
        "start": 14,
        "end": 35
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "re"
    ]
  },
  "agent/decide.py": {
    "summary": "Provides functions decide_next_action and classes .",
    "functions": [
      {
        "name": "decide_next_action",
        "start": 5,
        "end": 54
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "re",
      "call_llm"
    ]
  },
  "agent/planner.py": {
    "summary": "This file defines a function `make_plan` that takes a software development goal and generates a list of high-level logical steps to achieve it using an external language model.",
    "functions": [
      {
        "name": "make_plan",
        "start": 4,
        "end": 36
      }
    ],
    "classes": [],
    "imports": [
      "call_llm"
    ]
  },
  "agent/approval.py": {
    "summary": "This file contains a function that prompts the user for approval to perform an action with given payload and returns True or False based on the user's response.",
    "functions": [
      {
        "name": "ask_user_approval",
        "start": 1,
        "end": 12
      }
    ],
    "classes": [],
    "imports": []
  },
  "agent/logger.py": {
    "summary": "This file sets up and configures a logging system for an application named Operon, providing both console output with colored messages and detailed log files with timestamps and severity levels.",
    "functions": [
      {
        "name": "setup_logger",
        "start": 5,
        "end": 28
      }
    ],
    "classes": [],
    "imports": [
      "logging",
      "sys",
      "Path"
    ]
  },
  "agent/loop.py": {
    "summary": "This Python script automates the process of detecting a function based on a goal, rewriting that function's code using natural language instructions from an AI model, and applying those changes to a repository.",
    "functions": [
      {
        "name": "_detect_function_from_goal",
        "start": 16,
        "end": 24
      },
      {
        "name": "_rewrite_function",
        "start": 26,
        "end": 92
      },
      {
        "name": "run_agent",
        "start": 94,
        "end": 271
      }
    ],
    "classes": [],
    "imports": [
      "search_repo",
      "ask_user_approval",
      "decide_next_action",
      "make_plan",
      "log",
      "read_file",
      "run_tests",
      "find_function",
      "load_function_slice",
      "call_llm",
      "Path",
      "time",
      "re",
      "Path",
      "parse_search_replace",
      "smart_commit_pipeline"
    ]
  },
  "agent/llm.py": {
    "summary": "This Python script defines a function `call_llm` that sends prompts to an LLM server running locally at `http://127.0.0.1:8080/completion`, formats the prompt in ChatML style, and returns the response as a string or JSON object based on the input parameters.",
    "functions": [
      {
        "name": "call_llm",
        "start": 7,
        "end": 33
      }
    ],
    "classes": [],
    "imports": [
      "log",
      "requests",
      "json"
    ]
  },
  "agent/repo.py": {
    "summary": "Provides functions build_repo_summary and classes .",
    "functions": [
      {
        "name": "build_repo_summary",
        "start": 3,
        "end": 13
      }
    ],
    "classes": [],
    "imports": [
      "Path"
    ]
  },
  "runtime/state.py": {
    "summary": "This file defines a data class named AgentState to track an AI worker's mission, working directory, planned steps, files interacted with, actions taken, observations, errors encountered, move count, and completion status.",
    "functions": [],
    "classes": [
      {
        "name": "AgentState",
        "start": 5,
        "end": 19
      }
    ],
    "imports": [
      "dataclass",
      "List"
    ]
  }
}