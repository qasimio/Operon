{
  "main.py": {
    "summary": "This file initializes an agent with a goal to update a logger to output warnings in yellow, starts a logging session, runs the agent, and logs the session's completion.",
    "functions": [],
    "classes": [],
    "imports": [
      "AgentState",
      "run_agent",
      "log"
    ]
  },
  "readme.md": {
    "summary": "This file contains the implementation of the `write_file` function, which is responsible for writing data to a file.",
    "functions": [],
    "classes": [],
    "imports": [
      "C"
    ]
  },
  "repo_tree.json": {
    "summary": "This file, repo_tree.json, appears to be a JSON representation of the directory structure and files within a software repository, likely used for project management or automation purposes.",
    "functions": [],
    "classes": [],
    "imports": []
  },
  "repo_files.json": {
    "summary": "This file describes the structure and contents of a software repository, including Python scripts with functions and classes for various tasks like running tests, applying patches, searching repositories, and building a brain for the repo using an LLM.",
    "functions": [],
    "classes": [],
    "imports": []
  },
  "tools/function_locator.py": {
    "summary": "This file defines a function `find_function` that searches for a function or class by name within a repository, returning the file path and line range if found.",
    "functions": [
      {
        "name": "find_function",
        "start": 5,
        "end": 39
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "Path"
    ]
  },
  "tools/fs_tools.py": {
    "summary": "This file provides functions to read from and write to files, handling paths relative to a repository root and managing file modes like append and overwrite.",
    "functions": [
      {
        "name": "read_file",
        "start": 5,
        "end": 11
      },
      {
        "name": "write_file",
        "start": 13,
        "end": 41
      }
    ],
    "classes": [],
    "imports": [
      "Path",
      "Dict"
    ]
  },
  "tools/shell_tools.py": {
    "summary": "This file contains a function to run tests for a project, using a specified test command, and logs the results.",
    "functions": [
      {
        "name": "run_tests",
        "start": 6,
        "end": 31
      }
    ],
    "classes": [],
    "imports": [
      "log",
      "subprocess",
      "Dict"
    ]
  },
  "tools/git_tools.py": {
    "summary": "This file contains functions to interact with Git, including running commands, checking the current branch, slugifying text, and automating a commit pipeline based on a goal.",
    "functions": [
      {
        "name": "_run",
        "start": 5,
        "end": 17
      },
      {
        "name": "_current_branch",
        "start": 21,
        "end": 23
      },
      {
        "name": "_slugify",
        "start": 26,
        "end": 30
      },
      {
        "name": "smart_commit_pipeline",
        "start": 33,
        "end": 51
      }
    ],
    "classes": [],
    "imports": [
      "subprocess",
      "re"
    ]
  },
  "tools/diff_engine.py": {
    "summary": "This file contains functions to parse search and replace blocks from text, normalize lines for comparison, and apply patches to original text by finding and replacing matching blocks while handling indentation differences.",
    "functions": [
      {
        "name": "parse_search_replace",
        "start": 3,
        "end": 10
      },
      {
        "name": "_normalize_lines",
        "start": 12,
        "end": 14
      },
      {
        "name": "apply_patch",
        "start": 16,
        "end": 72
      }
    ],
    "classes": [],
    "imports": [
      "re"
    ]
  },
  "tools/build_brain.py": {
    "summary": "This file initializes a repository brain by calling a language model to process the contents of a specified directory.",
    "functions": [],
    "classes": [],
    "imports": [
      "build_repo_brain",
      "call_llm"
    ]
  },
  "tools/repo_search.py": {
    "summary": "This file defines a function `search_repo` that searches for files within a repository based on a query, scoring files based on how many unique keywords from the query are found in each file's content. It returns the names of the top 5 highest-scoring files.",
    "functions": [
      {
        "name": "search_repo",
        "start": 4,
        "end": 39
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "Path"
    ]
  },
  "tools/repo_brain.py": {
    "summary": "Provides functions build_tree, extract_python_info, build_repo_brain, extract_python_structure_ast, Visitor.visit_FunctionDef and classes Visitor.",
    "functions": [
      {
        "name": "build_tree",
        "start": 12,
        "end": 25
      },
      {
        "name": "extract_python_info",
        "start": 28,
        "end": 34
      },
      {
        "name": "build_repo_brain",
        "start": 36,
        "end": 119
      },
      {
        "name": "extract_python_structure_ast",
        "start": 121,
        "end": 171
      },
      {
        "name": "Visitor.visit_FunctionDef",
        "start": 135,
        "end": 141
      },
      {
        "name": "Visitor.visit_AsyncFunctionDef",
        "start": 143,
        "end": 149
      },
      {
        "name": "Visitor.visit_ClassDef",
        "start": 151,
        "end": 167
      },
      {
        "name": "visit_FunctionDef",
        "start": 135,
        "end": 141
      },
      {
        "name": "visit_AsyncFunctionDef",
        "start": 143,
        "end": 149
      },
      {
        "name": "visit_ClassDef",
        "start": 151,
        "end": 167
      }
    ],
    "classes": [
      {
        "name": "Visitor",
        "start": 133,
        "end": 167
      }
    ],
    "imports": [
      "Path",
      "json",
      "re",
      "ast"
    ]
  },
  "tools/run_tests.py": {
    "summary": "This file defines a function `run_tests` that runs pytest in a specified repository root and returns the results.",
    "functions": [
      {
        "name": "run_tests",
        "start": 3,
        "end": 22
      }
    ],
    "classes": [],
    "imports": [
      "subprocess"
    ]
  },
  "tools/code_slice.py": {
    "summary": "This file defines a function `load_function_slice` that loads and returns a slice of code around a specified function or class within a repository.",
    "functions": [
      {
        "name": "load_function_slice",
        "start": 5,
        "end": 47
      }
    ],
    "classes": [],
    "imports": [
      "Path",
      "find_function"
    ]
  },
  "agent/tool_jail.py": {
    "summary": "This file defines a function to validate JSON data containing an action and its parameters against a set of allowed actions and their required fields.",
    "functions": [
      {
        "name": "validate_action",
        "start": 14,
        "end": 35
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "re"
    ]
  },
  "agent/decide.py": {
    "summary": "This file defines a function `decide_next_action` that uses a language model to determine the next action for an autonomous software engineer based on the current state of the project, recent observations, and previous actions.",
    "functions": [
      {
        "name": "decide_next_action",
        "start": 6,
        "end": 78
      }
    ],
    "classes": [],
    "imports": [
      "json",
      "re",
      "call_llm",
      "log"
    ]
  },
  "agent/planner.py": {
    "summary": "This file defines a function `make_plan` that takes a goal and a repository root as input, generates a plan of high-level logical steps to achieve the goal using a language model, and returns the steps as a list.",
    "functions": [
      {
        "name": "make_plan",
        "start": 4,
        "end": 36
      }
    ],
    "classes": [],
    "imports": [
      "call_llm"
    ]
  },
  "agent/approval.py": {
    "summary": "This file contains a function that prompts the user for approval of a specified action with associated payload, returning True if approved and False if not.",
    "functions": [
      {
        "name": "ask_user_approval",
        "start": 1,
        "end": 12
      }
    ],
    "classes": [],
    "imports": []
  },
  "agent/logger.py": {
    "summary": "This file sets up a logger that writes debug and higher level messages to both the console and a file, with the console output in blue and the file output including timestamps and module names.",
    "functions": [
      {
        "name": "setup_logger",
        "start": 4,
        "end": 25
      }
    ],
    "classes": [],
    "imports": [
      "logging",
      "sys"
    ]
  },
  "agent/loop.py": {
    "summary": "This file contains functions and logic for detecting a function from a goal, rewriting that function based on instructions, and running an agent to manage the process.",
    "functions": [
      {
        "name": "_detect_function_from_goal",
        "start": 16,
        "end": 24
      },
      {
        "name": "_rewrite_function",
        "start": 26,
        "end": 92
      },
      {
        "name": "run_agent",
        "start": 94,
        "end": 292
      }
    ],
    "classes": [],
    "imports": [
      "search_repo",
      "ask_user_approval",
      "decide_next_action",
      "make_plan",
      "log",
      "read_file",
      "run_tests",
      "find_function",
      "load_function_slice",
      "call_llm",
      "Path",
      "time",
      "re",
      "Path",
      "parse_search_replace",
      "smart_commit_pipeline"
    ]
  },
  "agent/llm.py": {
    "summary": "This file defines a function `call_llm` that sends a prompt to a language model server, formats the response, and returns it as a string or JSON object.",
    "functions": [
      {
        "name": "call_llm",
        "start": 7,
        "end": 33
      }
    ],
    "classes": [],
    "imports": [
      "log",
      "requests",
      "json"
    ]
  },
  "agent/repo.py": {
    "summary": "This file defines a function that generates a summary of a repository by listing up to a specified number of files, excluding those in the .git directory.",
    "functions": [
      {
        "name": "build_repo_summary",
        "start": 3,
        "end": 13
      }
    ],
    "classes": [],
    "imports": [
      "Path"
    ]
  },
  "runtime/state.py": {
    "summary": "This file defines a data class `AgentState` to track an AI worker's mission, working directory, planned steps, file interactions, observations, errors, move count, and completion status.",
    "functions": [],
    "classes": [
      {
        "name": "AgentState",
        "start": 5,
        "end": 19
      }
    ],
    "imports": [
      "dataclass",
      "List"
    ]
  },
  "tests/tests_search.py": {
    "summary": "This file contains a test function that checks if a repository search tool can find a specific file within a dummy directory.",
    "functions": [
      {
        "name": "test_search_repo_finds_files",
        "start": 5,
        "end": 18
      }
    ],
    "classes": [],
    "imports": [
      "os",
      "json",
      "search_repo",
      "based"
    ]
  }
}